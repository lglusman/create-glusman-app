using System;using System.Collections.Generic;using WebApi.Models.DTOs;using WebApi.Models.Entities;namespace WebApi.Models.DTOs{	public class PresupuestoDTO	{		public int Id { get; set; } = 0;		public string Descripcion { get; set; } = "";		public int EdificioId { get; set; } = 0;		public int TipoDeObraId { get; set; } = 0;		public Decimal Neto { get; set; } = 0;		public string? Incluye { get; set; } = null;		public string FechaAlta { get; set; } = "";		public string? FechaBaja { get; set; } = null;		public string? FechaModificacion { get; set; } = null;		public int UsuarioAltaId { get; set; } = 0;		public int? UsuarioBajaId { get; set; } = null;		public int? UsuarioModificacionId { get; set; } = null;		public TipoDeObraDTO? TipoDeObra { get; set; }		public EdificioDTO? Edificio { get; set; }		public Presupuesto ToEntity()		{			return new Presupuesto()			{				Id = Id,				Descripcion = Descripcion,				EdificioId = EdificioId,				TipoDeObraId = TipoDeObraId,				Neto = Neto,				Incluye = Incluye,				FechaAlta = DateTime.Parse(FechaAlta),				FechaBaja = FechaBaja != "" && FechaBaja != null ? DateTime.Parse(FechaBaja) : null,				FechaModificacion = FechaModificacion != "" && FechaModificacion != null ? DateTime.Parse(FechaModificacion) : null,				UsuarioAltaId = UsuarioAltaId,				UsuarioBajaId = UsuarioBajaId,				UsuarioModificacionId = UsuarioModificacionId,         };      }        internal void validar()        {            var strError = "";            if (Descripcion.Trim() == "") strError += "* Descripcion es requerido";            if (EdificioId == 0) strError += "* EdificioId es requerido";            if (TipoDeObraId == 0) strError += "* TipoDeObraId es requerido";            if (Neto == 0) strError += "* Neto es requerido";            if (FechaAlta.Trim() == "") strError += "* FechaAlta es requerido";            if (UsuarioAltaId == 0) strError += "* UsuarioAltaId es requerido";            if (strError != "")            {                throw new Exception(strError);            }         }   }}namespace WebApi.Models.Entities{	public partial class Presupuesto: Idtoable	{		public override PresupuestoDTO ToDTO()		{			var dto = new PresupuestoDTO();			dto.Id = Id;			dto.Descripcion = Descripcion;			dto.EdificioId = EdificioId;			dto.TipoDeObraId = TipoDeObraId;			dto.Neto = Neto;			dto.Incluye = Incluye;			dto.FechaAlta = FechaAlta.ToString("yyyy/MM/dd");			dto.FechaBaja = FechaBaja?.ToString("yyyy/MM/dd");			dto.FechaModificacion = FechaModificacion?.ToString("yyyy/MM/dd");			dto.UsuarioAltaId = UsuarioAltaId;			dto.UsuarioBajaId = UsuarioBajaId;			dto.UsuarioModificacionId = UsuarioModificacionId;			if (TipoDeObra != null)			{				this.TipoDeObra.Presupuestos = new List<Presupuesto>();				dto.TipoDeObra = TipoDeObra.ToDTO();			}			if (Edificio != null)			{				this.Edificio.Presupuestos = new List<Presupuesto>();				dto.Edificio = Edificio.ToDTO();			}			return dto;		}	}}